
# Date picker
<MDDatePicker>:
    text_button_color: app.theme_cls.primary_light

# Confirmation dialog for adding items to the fridge
<ConfirmAdd>:
    title:       "Do you want to add:"
    md_bg_color: app.theme_cls.primary_color
    type:        "simple"

<ScanScreen>:
    selected_date:    date_picker_button
    spinner:          spinner
    item_text_input:  product_name_input
    # Fun little spinner for adding items 
    MDSpinner:
        id:         spinner
        size_hint:  (.1,.1)
        pos_hint:   {'center_x': .5, 'center_y': .25}
        active:     False
    # Layout containing camera
    BoxLayout:
        pos_hint: {'center_x': .5, 'top': .95}
        size_hint: (1,.7)
        # Camera display
        Preview:
            id:           preview
	        aspect_ratio: '16:9'
    Toolbar:
        title: "Scan"

    # Button for saving image for OCR
    MDFillRoundFlatIconButton:
        icon:       "magnify-scan"
        text:       "Scan image"
        pos_hint:   {'center_x': .5, 'center_y': .30}
        on_release: root.photo()
    # Button for manually adding date    
    MDFillRoundFlatIconButton:
        id:         date_picker_button
        font_size:  dp(15)
        pos_hint:   {'center_x': .75, 'center_y': .17}
        icon:       "calendar-range"
        text:       "Select Expiry Date"
        on_release: root.show_date_picker()
    # Item name input widget
    FilteredInput:
        id:               product_name_input
        hint_text:        "Enter item name"
        multiline:        False
        mode:             "rectangle"
        theme_text_color: 'Custom'
        color_mode:       'custom'
        line_color_focus: app.theme_cls.primary_dark
        max_text_length:  20
        size_hint:        .35,None
        pos_hint:         {'x': .1, 'center_y': .17}
    # Button to save item from given product name and date
    MDFillRoundFlatIconButton:
        id:         save_item
        font_size:  dp(15)
        icon:       "content-save"
        text:       "Save Item"
        pos_hint:   {'center_x': .5, 'y': .04}
        on_release: root.save_item()

