


<ScanScreen>:
    selected_date: date_label
    pressed_ok:funSpinner
    itemTextInput:itemName

    MDSpinner:
        id: funSpinner
        size_hint: (.1,.1)
        pos_hint: {'center_x': .5, 'center_y': .25}
        active: False
    BoxLayout:
        pos_hint: {'center_x': .5, 'top': .95}
        # size_hint: (1,.5)
        size_hint: (1,.7)
        Preview:
            id: preview
	        aspect_ratio: '16:9'
    Toolbar:
        title: "Scan"
    MDFillRoundFlatIconButton:
        icon: "magnify-scan"
        text: "Scan image"
        pos_hint: {'center_x': .5, 'center_y': .30}
        on_release: root.photo()
    MDFillRoundFlatIconButton:
        id: date_label
        font_size: dp(15)
        icon: "calendar-range"
        text: "Select Expiry Date"
        # pos_hint: {'center_x': .5, 'center_y': .35}
        on_release: root.show_date_picker()
        pos_hint: {'center_x': .75, 'center_y': .17}
    
    FilteredInput:
        id: itemName
        hint_text: "Enter item name"
        multiline: False
        mode: "rectangle"
        theme_text_color: 'Custom'
        color_mode: 'custom'
        line_color_focus: app.theme_cls.primary_dark
        max_text_length: 5
        size_hint: .35,None
        height: '40dp'
        pos_hint: {'x': .1, 'center_y': .17}

    MDFillRoundFlatIconButton:
        id: date_label
        font_size: dp(15)
        icon: "content-save"
        text: "Save Item"
        pos_hint: {'center_x': .5, 'y': .04}
        on_release: root.save_item()

